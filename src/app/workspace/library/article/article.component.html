<p-growl [(value)]="msgs" life="2000"></p-growl>
<div [@pageAnimation]="'in'">
  <my-breadcrumb name1="我的文库" name2="创建文章"></my-breadcrumb>
</div>

<div class="content ">
    <div class="content-top ui-g">
        <input id="input" type="text" pInputText [(ngModel)]="articleTitle"  placeholder="文章标题"> 
        <div id="editormenu" class="toolbar ui-g-12">
                <div class="my-tool-bar " > 
                    <span (click)="fileInputClick('uploadImg')"><i class="w-e-icon-image"></i> </span>
                    <span (click)="fileInputClick('uploadVideo')"><i class="w-e-icon-play"></i></span>
                </div>
                <input id="uploadImg" type="file" hidden
                (change)="imgOperate($event)"
                accept="image/jpeg,image/jpg,image/png,image/svg"/>
                <input id="uploadVideo" type="file" (change)="videoOperate($event)" hidden accept="video/*" />
                
        </div>
    </div>
  
<div class="ui-g" >
    <div id="editor" class="editorcontent content-left ui-g-9 "> <!--可使用 min-height 实现编辑区域自动增加高度-->
    </div>

    <div class="content-right ui-g-3" >
        <div  class="tag" >标签:
            <li *ngFor="let file of selectedFiles">{{file.label}} 
                    <i class="fa fa-times" aria-hidden="true" (click)="del(file)"></i>
            </li>
        </div> 
        <div>
            <input pInputText style="width:65%" (keyup)="searchActicletag()" [(ngModel)]="searchtag" />
            <button pButton type="button" (click)="searchActicletag()" label="搜索"></button>
            <ul class="taglist" *ngIf="taglist.length>0">
                <li (click)="nodeSelect(node)" *ngFor="let node of taglist "> {{node.label}}</li>
            </ul>
        </div>
       
        <div>
            <p-tree [value]="files" selectionMode="multiple" 
                (onNodeSelect)="nodeSelect($event)" >
            </p-tree>
        </div>
    </div>
</div>
  <div class = "footer" >
    <button   class ="publish" pButton type="button" (click)="saveAsDeploy()" label="发 布 文 章"></button>
    
    <button  class ="save"  pButton type="button" (click)="saveAsDraft()" label="保 存 草 稿"></button>
   
    <button  style="width:100px;" pButton type="button" (click)="getPrewviewHtml(1)" label="预 览"></button>
  </div>

    <div  class="preview-layer">
        <span class="close" (click)="closePreview()" >
        <i class="fa fa-times fa-5x" aria-hidden="true"></i>
    </span>
        <div class="preview-bg"></div>
        <div class="preview-phone">
            <iframe id="preview-html" name="preview-html" src="assets/html/preview.html"></iframe>
        </div>
    </div>



